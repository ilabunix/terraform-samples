// E) Session Filter
// RTH session (9:30 AM - 4:00 PM ET)
t = time(timeframe.period, "0930-1600", "America/New_York")
is_rth = not na(t)

current_hour = hour(time("America/New_York"))
current_min = minute(time("America/New_York"))

avoid_open = current_hour == 9 and current_min < (30 + avoid_open_mins)
avoid_close = current_hour == 15 and current_min >= (60 - avoid_close_mins)
session_ok = is_rth and not avoid_open and not avoid_close
